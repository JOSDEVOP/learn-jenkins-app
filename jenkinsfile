pipeline{
    
    agent any
    stages{
         
        stage('Build'){
           
            agent{
                docker{
                    image 'node:18-alpine'
                    args '-u root'
                    reuseNode true
                }
            }
          
            steps{
                
            cleanWs()
          
                sh'''
                pwd
                ls -la
                npm --version
                node --version
                npm ci
                npm run build
                ls -la
                
                '''
                
            }
        }
        
        
    }
    post{
        success{
            archiveArtifacts artifacts:'learn-jenkins-app/**'
        }
    }
    
  
}


